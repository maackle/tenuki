{"version":3,"sources":["../src/utils.js"],"names":[],"mappings":"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","file":"utils.js","sourcesContent":["export default {\n  flatten: function(ary) {\n    return ary.reduce((a, b) => a.concat(b));\n  },\n\n  flatMap: function(ary, lambda) {\n    return Array.prototype.concat.apply([], ary.map(lambda));\n  },\n\n  cartesianProduct: function(ary1, ary2) {\n    return this.flatten(ary1.map(x => ary2.map(y => [x, y])));\n  },\n\n  randomID: function(prefix) {\n    const str = [0, 1, 2, 3].map(() => {\n      return Math.floor(Math.random() * 0x10000).toString(16).substring(1);\n    }).join(\"\");\n\n    return `${prefix}-${str}`;\n  },\n\n  clone: function(element) {\n    return element.cloneNode(true);\n  },\n\n  createElement: function(elementName, options) {\n    const element = document.createElement(elementName);\n\n    if (typeof options !== \"undefined\") {\n      if (options.class) {\n        element.className = options.class;\n      }\n    }\n\n    return element;\n  },\n\n  createSVGElement: function(elementName, options) {\n    const svgNamespace = \"http://www.w3.org/2000/svg\";\n    const element = document.createElementNS(svgNamespace, elementName);\n\n    if (typeof options !== \"undefined\") {\n      if (options.class) {\n        options.class.split(\" \").forEach(name => {\n          this.addClass(element, name);\n        });\n      }\n\n      if (options.attributes) {\n        Object.keys(options.attributes).forEach(k => {\n          element.setAttribute(k, options.attributes[k]);\n        });\n      }\n\n      if (options.text) {\n        element.textContent = options.text.toString();\n      }\n    }\n\n    return element;\n  },\n\n  appendElement: function(parent, el) {\n    parent.insertBefore(el, null);\n  },\n\n  addEventListener: function(el, eventName, fn) {\n    el.addEventListener(eventName, fn, false);\n  },\n\n  removeClass: function(el, className) {\n    if (!this.hasClass(el, className)) {\n      return;\n    }\n\n    if (el.classList && el.classList.remove) {\n      el.classList.remove(className);\n      return;\n    }\n\n    const classNameRegex = RegExp('\\\\b' + className + '\\\\b', \"g\");\n\n    if (el instanceof SVGElement) {\n      el.setAttribute(\"class\", el.getAttribute(\"class\").replace(classNameRegex, \"\"));\n    } else {\n      el.className = el.getAttribute(\"class\").replace(classNameRegex, \"\");\n    }\n  },\n\n  addClass: function(el, className) {\n    if (el.classList && el.classList.add) {\n      el.classList.add(className);\n      return;\n    }\n\n    if (el instanceof SVGElement) {\n      el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n    } else {\n      el.className = el.getAttribute(\"class\") + \" \" + className;\n    }\n  },\n\n  hasClass: function(el, className) {\n    if (el.classList && el.classList.contains) {\n      return el.classList.contains(className);\n    }\n\n    const classNameRegex = RegExp('\\\\b' + className + '\\\\b', \"g\");\n\n    if (el instanceof SVGElement) {\n      return classNameRegex.test(el.getAttribute(\"class\"));\n    } else {\n      return classNameRegex.test(el.className);\n    }\n  },\n\n  toggleClass: function(el, className) {\n    if (el.classList && el.classList.toggle) {\n      el.classList.toggle(className);\n      return;\n    }\n\n    if (this.hasClass(el, className)) {\n      this.removeClass(el, className);\n    } else {\n      this.addClass(el, className);\n    }\n  },\n\n  unique: function(ary) {\n    let unique = [];\n    ary.forEach(el => {\n      if (unique.indexOf(el) < 0) {\n        unique.push(el);\n      }\n    });\n    return unique;\n  }\n};\n"]}